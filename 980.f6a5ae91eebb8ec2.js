"use strict";(self.webpackChunkword_weaver=self.webpackChunkword_weaver||[]).push([[980],{6980:(rt,W,r)=>{r.r(W),r.d(W,{WordmakerModule:()=>st});var Y=r(5743),C=r(4353),g=r(9952),A=r(591),h=r(8929),$=r(1746),c=r(5359),u=r(9837);const T=(0,c.P1)(u.rj,t=>t),O=((0,c.P1)(u.rj,t=>t.option),(0,c.P1)(u.rj,t=>t.agent)),N=(0,c.P1)(u.rj,t=>t.patient);(0,c.P1)(u.rj,t=>t.root),(0,c.P1)(u.rj,t=>t.step),(0,c.P1)(u.rj,t=>t.conjugations),(0,c.P1)(u.rj,t=>t.loading),(0,c.P1)(O,N,(t,i)=>({agent:t,patient:i}));var S=r(5360),w=r(114),m=r(7625),x=r(2986),Q=r(5778),e=r(4650),f=r(2925),p=r(6895),_=r(4006),y=r(4859),b=r(6257),j=r(7545),Z=r(4850),q=r(2815),I=r(3503),k=r(1572),J=r(4968);function P(t,i){1&t&&(e.TgZ(0,"div",8)(1,"div",9)(2,"p",10),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",9),e._UZ(6,"br"),e.qZA(),e.TgZ(7,"div",9)(8,"div",11),e._UZ(9,"p",12),e.ALo(10,"translate"),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"ww.pages.wordmaker.steps.conj.congratulations-header")," "),e.xp6(6),e.Q6J("innerHTML",e.lcZ(10,4,"ww.pages.wordmaker.steps.conj.congratulations-text"),e.oJD))}function F(t,i){1&t&&e._UZ(0,"hr",13)}function M(t,i){1&t&&e._UZ(0,"mat-spinner",14)}function V(t,i){if(1&t&&e._UZ(0,"ww-tier",20),2&t){const n=e.oxw(2).$implicit,o=e.oxw().ngIf;e.Q6J("tier",n)("data",o[0])}}function E(t,i){if(1&t&&(e.TgZ(0,"h3"),e.YNc(1,V,1,2,"ww-tier",19),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",n[0])}}function H(t,i){if(1&t&&e._UZ(0,"ww-tier",20),2&t){const n=e.oxw(2).$implicit,o=e.oxw().ngIf;e.Q6J("tier",n)("data",o[0])}}function R(t,i){if(1&t&&(e.TgZ(0,"h5"),e.YNc(1,H,1,2,"ww-tier",19),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngIf",n[0])}}function X(t,i){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.notifications.noconjugation")," "))}function K(t,i){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,E,2,1,"h3",18),e.YNc(2,R,2,1,"h5",18),e.YNc(3,X,3,3,"h3",18),e.qZA()),2&t){const n=i.$implicit,o=i.index,s=e.oxw().ngIf,a=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",0===o),e.xp6(1),e.Q6J("ngIf",a.level[n.name]&&0!==o),e.xp6(1),e.Q6J("ngIf",!s[0]&&0===o)}}function D(t,i){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,K,4,3,"div",16),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.tiers)}}function G(t,i){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,P,11,6,"div",3),e.ALo(3,"async"),e.qZA(),e.YNc(4,F,1,0,"hr",4),e.ALo(5,"async"),e.TgZ(6,"div",5),e.YNc(7,M,1,0,"ng-template",null,6,e.W1O),e.YNc(9,D,2,1,"div",7),e.ALo(10,"async"),e.qZA()()),2&t){const n=i.ngIf,o=e.MAs(8),s=e.oxw();e.Q6J("ngClass",n.highlight),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,s.conjugation$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,7,s.conjugation$)),e.xp6(5),e.Q6J("ngIf",e.lcZ(10,9,s.conjugation$))("ngIfElse",o)}}let B=(()=>{class t{constructor(n,o){this.store=n,this.conjugationService=o,this.unsubscribe$=new h.xQ,this.tiers=I.Iy}ngOnInit(){this.settings$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(q.vi)),this.selection$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(T)),this.conjugation$=this.selection$.pipe((0,m.R)(this.unsubscribe$),(0,j.w)(n=>this.conjugationService.conjugations$.pipe((0,Z.U)(o=>this.conjugationService.filterConjugations(o,n)))))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.yh),e.Y36(g.e0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker-conj-step"]],decls:2,vars:3,consts:[["class","margin-top-20 panel centered full-width",3,"ngClass",4,"ngIf"],[1,"margin-top-20","panel","centered","full-width",3,"ngClass"],[1,"panel__header"],["class","container",4,"ngIf"],["class","margin-bottom-50",4,"ngIf"],[1,"panel__content"],["loading",""],["class","pwdith-50--desktop pwidth-100--mobile centered",4,"ngIf","ngIfElse"],[1,"container"],[1,"row"],[1,"margin-0","font-lg"],[1,"congratulations","col-sm-12"],[1,"font-lg",3,"innerHTML"],[1,"margin-bottom-50"],[1,"centered"],[1,"pwdith-50--desktop","pwidth-100--mobile","centered"],["id","conjugation-result","class","conjugation center-text",4,"ngFor","ngForOf"],["id","conjugation-result",1,"conjugation","center-text"],[4,"ngIf"],[3,"tier","data",4,"ngIf"],[3,"tier","data"]],template:function(n,o){1&n&&(e.YNc(0,G,11,11,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.settings$))},dependencies:[p.mk,p.sg,p.O5,k.Ou,J.P,p.Ov,f.X$],styles:["h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),t})();var v=r(7331),L=r(7392);function z(t,i){1&t&&e._UZ(0,"mat-spinner",12)}function ee(t,i){1&t&&(e.TgZ(0,"div",7),e._UZ(1,"br"),e.qZA())}function te(t,i){1&t&&(e.TgZ(0,"div",7),e._UZ(1,"br"),e.qZA())}function ne(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.pers.select-intransitive-pronoun")," "))}function oe(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.pers.select-transitive-pronoun")," "))}function ie(t,i){1&t&&(e.TgZ(0,"h5"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.pers.agent-informal")," "))}function se(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",16),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(5);return e.KtG(d.onAgentSelect(a))}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"mat-icon",17),e._uU(4,"person "),e.qZA()()}if(2&t){const n=i.$implicit,o=e.oxw(3).ngIf;e.Q6J("ngClass",o.agent===n?"color-white bg-red":"bg-white color-black"),e.xp6(1),e.hij(" ",e.lcZ(2,3,"ww-data.pronouns.agents."+n.tag)," "),e.xp6(2),e.Q6J("ngClass",o.agent===n?"color-white":"color-red")}}function re(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ie,3,3,"h5",0),e.TgZ(2,"div",14)(3,"mat-chip-list"),e.YNc(4,se,5,5,"mat-chip",15),e.qZA()()()),2&t){const n=e.oxw().ngIf,o=e.oxw().ngIf,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.validationService.validate("display","categories","patients",o)&&s.validationService.validate("display","categories","patients",o)),e.xp6(3),e.Q6J("ngForOf",n)}}function ae(t,i){1&t&&(e.TgZ(0,"h5"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.pers.patient-informal")," "))}function ce(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",19),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(5);return e.KtG(d.onPatientSelect(a))}),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"mat-icon",17),e._uU(4," person "),e.qZA()()}if(2&t){const n=i.$implicit,o=e.oxw(3).ngIf;e.Q6J("ngClass",o.patient===n?"color-white bg-blue":"bg-white color-black"),e.xp6(1),e.hij(" ",e.lcZ(2,3,"ww-data.pronouns.patients."+n.tag)," "),e.xp6(2),e.Q6J("ngClass",o.patient===n?"color-white":"color-blue")}}function pe(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ae,3,3,"h5",0),e.TgZ(2,"div",14)(3,"mat-chip-list"),e.YNc(4,ce,5,5,"mat-chip",18),e.qZA()()()),2&t){const n=e.oxw().ngIf,o=e.oxw().ngIf,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.validationService.validate("display","categories","patients",o)&&s.validationService.validate("display","categories","patients",o)),e.xp6(3),e.Q6J("ngForOf",n)}}function le(t,i){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,re,5,2,"div",0),e.YNc(2,pe,5,2,"div",0),e.qZA()),2&t){const n=e.oxw().ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.validationService.validate("display","categories","agents",n)),e.xp6(1),e.Q6J("ngIf",o.validationService.validate("display","categories","patients",n))}}function me(t,i){if(1&t&&(e.TgZ(0,"div",2),e.YNc(1,z,1,0,"ng-template",null,3,e.W1O),e.TgZ(3,"div",4)(4,"div",5),e.YNc(5,ee,2,0,"div",6),e.YNc(6,te,2,0,"div",6),e.TgZ(7,"div",7)(8,"div",8),e.YNc(9,ne,3,3,"p",0),e.YNc(10,oe,3,3,"p",0),e.qZA()()()(),e._UZ(11,"hr",9),e.TgZ(12,"div",10),e.YNc(13,le,3,2,"div",11),e.ALo(14,"async"),e.qZA()()),2&t){const n=i.ngIf,o=e.MAs(2),s=e.oxw(2);e.xp6(5),e.Q6J("ngIf",!s.validationService.validate("display","categories","patients",n)||!s.validationService.validate("display","categories","patients",n)),e.xp6(1),e.Q6J("ngIf",!s.validationService.validate("display","categories","patients",n)||!s.validationService.validate("display","categories","patients",n)),e.xp6(3),e.Q6J("ngIf",!s.validationService.validate("display","categories","patients",n)||!s.validationService.validate("display","categories","patients",n)),e.xp6(1),e.Q6J("ngIf",s.validationService.validate("display","categories","patients",n)&&s.validationService.validate("display","categories","patients",n)),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,6,s.pronouns$))("ngIfElse",o)}}function de(t,i){if(1&t&&(e.ynx(0),e.YNc(1,me,15,8,"div",1),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.selection$))}}let _e=(()=>{class t{constructor(n,o,s){this.pronounService=n,this.store=o,this.validationService=s,this.selectedAgent=new e.vpe,this.selectedPatient=new e.vpe,this.unsubscribe$=new h.xQ,this.lang$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(g.gV))}ngOnInit(){this.pronouns$=this.pronounService.pronouns$,this.selection$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(T))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onAgentSelect(n){this.store.dispatch((0,w.CL)({agent:n})),this.selectedAgent.emit(n)}onPatientSelect(n){this.store.dispatch((0,w.kr)({patient:n})),this.selectedPatient.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.I9),e.Y36(c.yh),e.Y36(g.RJ))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker-pers-step"]],outputs:{selectedAgent:"selectedAgent",selectedPatient:"selectedPatient"},decls:2,vars:3,consts:[[4,"ngIf"],["class","margin-top-20 panel centered full-width",4,"ngIf"],[1,"margin-top-20","panel","centered","full-width"],["loading",""],[1,"panel__header--small"],[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"instructions","col-sm-12"],[1,"margin-bottom-50"],[1,"panel__content--large"],["class","pwidth-50--desktop pwidth-100--mobile centered",4,"ngIf","ngIfElse"],[1,"centered"],[1,"pwidth-50--desktop","pwidth-100--mobile","centered"],[1,"pronoun__container","custom-scroll"],["class","border-accent",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"border-accent",3,"ngClass","click"],[1,"margin-left-5","icon-md",3,"ngClass"],["class","bg-white border-accent",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","border-accent",3,"ngClass","click"]],template:function(n,o){1&n&&(e.YNc(0,de,3,3,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.lang$))},dependencies:[p.mk,p.sg,p.O5,v.qn,v.HS,k.Ou,L.Hw,p.Ov,f.X$],styles:[".pronoun__container[_ngcontent-%COMP%]{max-height:15vh}"],changeDetection:0}),t})();var ge=r(839),ue=r(13),fe=r(2994),l=r(7340);const ve=(0,l.X$)("fadeAnimation",[(0,l.eR)("* <=> *",[(0,l.IO)(":enter",[(0,l.oB)({opacity:0}),(0,l.jt)("3000ms",(0,l.oB)({opacity:1}))],{optional:!0}),(0,l.IO)(":leave",[(0,l.oB)({opacity:1}),(0,l.jt)("3000ms",(0,l.oB)({opacity:0}))],{optional:!0})])]),he=(0,l.X$)("listAnimation",[(0,l.eR)("* <=> *",[(0,l.IO)(":enter",[(0,l.oB)({opacity:0}),(0,l.EY)("10ms",(0,l.jt)("300ms ease-out",(0,l.oB)({opacity:1})))],{optional:!0})])]);var we=r(9549),xe=r(4144);function be(t,i){if(1&t&&(e.TgZ(0,"form",11)(1,"mat-form-field",12),e._UZ(2,"input",13),e.ALo(3,"translate"),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("formGroup",n.verbForm),e.xp6(1),e.Q6J("placeholder",e.lcZ(3,2,"ww.pages.wordmaker.steps.verb.search-placeholder"))}}const Ze=function(t){return{number:t}};function Te(t,i){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij(" ",e.xi3(2,1,"ww.pages.wordmaker.steps.verb.select-verb-multiple",e.VKq(4,Ze,n.length))," ")}}function ke(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.verb.select-verb-single")," "))}const Ce=function(t){return{value:t}};function Ae(t,i){if(1&t&&(e._UZ(0,"p",18),e.ALo(1,"translate")),2&t){const n=e.oxw(3);e.Q6J("innerHTML",e.xi3(1,1,"ww.pages.wordmaker.steps.verb.no-matching-verbs",e.VKq(4,Ce,n.searchField.value)),e.oJD)}}function Se(t,i){if(1&t&&(e.TgZ(0,"div",3)(1,"div",14),e.YNc(2,Te,3,6,"p",15),e.YNc(3,ke,3,3,"p",16),e.YNc(4,Ae,2,6,"p",17),e.qZA()()),2&t){const n=i.ngIf;e.xp6(1),e.Q6J("ngSwitch",n.length),e.xp6(2),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",0)}}function Ie(t,i){1&t&&e._UZ(0,"hr",19)}function We(t,i){1&t&&e._UZ(0,"mat-spinner",20)}function $e(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ww.pages.wordmaker.steps.verb.try-again")," "))}function ye(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",24),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(3);return e.KtG(d.onVerbSelect(a))}),e.TgZ(1,"span",25),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon",26),e._uU(5,"brightness_1 "),e.qZA()()}if(2&t){const n=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,"ww-data.verbs."+n.tag)),e.xp6(2),e.Q6J("ngClass",null==n?null:n.classes)}}function je(t,i){if(1&t&&(e.TgZ(0,"mat-chip-list",21),e.YNc(1,$e,3,3,"p",22),e.YNc(2,ye,6,4,"mat-chip",23),e.qZA()),2&t){const n=i.ngIf;e.xp6(1),e.Q6J("ngIf",0===n.length),e.xp6(1),e.Q6J("ngForOf",n)}}function Je(t,i){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,be,4,4,"form",5),e.ALo(5,"async"),e.qZA()(),e.YNc(6,Se,5,3,"div",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,Ie,1,0,"hr",7),e.ALo(9,"async"),e.TgZ(10,"div",8),e.YNc(11,We,1,0,"ng-template",null,9,e.W1O),e.YNc(13,je,3,2,"mat-chip-list",10),e.ALo(14,"async"),e.qZA()()),2&t){const n=e.MAs(12),o=e.oxw();e.xp6(4),e.Q6J("ngIf",e.lcZ(5,5,o.viewableVerbs$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,7,o.viewableVerbs$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,9,o.viewableVerbs$)),e.xp6(5),e.Q6J("ngIf",e.lcZ(14,11,o.viewableVerbs$))("ngIfElse",n)}}let Le=(()=>{class t{constructor(n,o,s,a){this.verbService=n,this.fb=o,this.store=s,this.translate=a,this.selectedVerb=new e.vpe,this.viewableVerbs$=new ge.t,this.language="ww.common.language",this.unsubscribe$=new h.xQ,this.lang$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(g.gV)),this.searchField=new _.NI,this.verbForm=this.fb.group({search:this.searchField})}ngOnInit(){this.verbService.verbs$.pipe((0,m.R)(this.unsubscribe$)).subscribe(n=>this.viewableVerbs$.next(n)),this.searchField.valueChanges.pipe((0,m.R)(this.unsubscribe$),(0,ue.b)(200),(0,fe.b)(n=>this.viewableVerbs$.next(this.getEntriesFrom(n)))).subscribe()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}getEntriesFrom(n){return n=n.toLowerCase(),this.verbService.verbs.filter(o=>this.filterEntries(o,n))}filterEntries(n,o){return this.translate.instant("ww-data.verbs."+n.tag).toLowerCase().indexOf(o.toLowerCase())>-1}onVerbSelect(n){this.store.dispatch((0,w.kI)({root:n})),this.selectedVerb.emit(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.TY),e.Y36(_.qu),e.Y36(c.yh),e.Y36(f.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker-verb-step"]],outputs:{selectedVerb:"selectedVerb"},decls:2,vars:3,consts:[["class","margin-top-20 full-width centered panel",4,"ngIf"],[1,"margin-top-20","full-width","centered","panel"],[1,"panel__header","container"],[1,"row"],[1,"col-sm-12"],["class","margin-left-25 font-md",4,"ngIf"],["class","row",4,"ngIf"],["class","margin-bottom-50",4,"ngIf"],[1,"panel__content","custom-scroll-y"],["loading",""],["class","panel__list",4,"ngIf","ngIfElse"],[1,"margin-left-25","font-md"],[1,"margin-bottom-20",3,"formGroup"],["autocomplete","off","type","text","value","","aria-label","Number","matInput","","formControlName","search",3,"placeholder"],[1,"instructions","col-sm-12",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],[3,"innerHTML"],[1,"margin-bottom-50"],[1,"centered"],[1,"panel__list"],[4,"ngIf"],["class","margin-5 bg-white border-accent",3,"click",4,"ngFor","ngForOf"],[1,"margin-5","bg-white","border-accent",3,"click"],[1,"centered","color-black"],[1,"icon-sm","margin-left-5",3,"ngClass"]],template:function(n,o){1&n&&(e.YNc(0,Je,15,13,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.lang$))},dependencies:[p.mk,p.sg,p.O5,p.RF,p.n9,p.ED,_._Y,_.Fj,_.JJ,_.JL,_.F,_.sg,_.u,v.qn,v.HS,we.KE,xe.Nt,k.Ou,L.Hw,p.Ov,f.X$],data:{animation:[ve,he]},changeDetection:0}),t})();function Ye(t,i){1&t&&e._UZ(0,"mat-spinner",9)}function Oe(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",15),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(4);return e.KtG(d.onChipClick(a.input.option))}),e._UZ(1,"ww-tier",16),e.qZA()}if(2&t){const n=i.$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("tier",o.returnOptionTierFromName())("data",n)}}function Ne(t,i){if(1&t&&(e.TgZ(0,"mat-chip-list"),e.YNc(1,Oe,2,2,"mat-chip",14),e.qZA()),2&t){const n=i.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function Qe(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,Ne,2,1,"mat-chip-list",13),e.ALo(2,"async"),e.qZA()),2&t){e.oxw();const n=e.MAs(15),o=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,o.conjugatedOptions$))("ngIfElse",n)}}function Ue(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",15),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(5);return e.KtG(d.onChipClick(a.tag))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,"ww-data.options.items."+n.tag))}}function qe(t,i){if(1&t&&(e.TgZ(0,"div",21)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-chip-list"),e.YNc(5,Ue,3,3,"mat-chip",14),e.qZA()()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,"ww-data.options.types."+n.type)),e.xp6(3),e.Q6J("ngForOf",n.options)}}function Pe(t,i){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,qe,6,4,"div",20),e.ALo(2,"async"),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.possibleOptionsByType$))}}function Fe(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-chip",15),e.NdJ("click",function(){const a=e.CHM(n).$implicit,d=e.oxw(5);return e.KtG(d.onChipClick(a.tag))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,"ww-data.options.items."+n.tag))}}function Me(t,i){if(1&t&&(e.TgZ(0,"mat-chip-list"),e.YNc(1,Fe,3,3,"mat-chip",14),e.qZA()),2&t){const n=i.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function Ve(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,Me,2,1,"mat-chip-list",13),e.ALo(2,"async"),e.qZA()),2&t){e.oxw(2);const n=e.MAs(15),o=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,o.possibleOptions$))("ngIfElse",n)}}function Ee(t,i){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,Pe,3,3,"div",18),e.ALo(2,"async"),e.YNc(3,Ve,3,4,"div",10),e.ALo(4,"async"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.optionService.optionsUseType$())),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(4,4,n.optionService.optionsUseType$()))}}function He(t,i){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"br"),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"br"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"p"),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e._UZ(12,"hr",6),e.TgZ(13,"div",7),e.YNc(14,Ye,1,0,"ng-template",null,8,e.W1O),e.TgZ(16,"div",9),e.YNc(17,Qe,3,4,"div",10),e.YNc(18,Ee,5,6,"div",11),e.qZA()()()),2&t){const n=e.oxw();e.xp6(10),e.Oqu(e.lcZ(11,3,"ww.pages.wordmaker.steps.temp.select-temp")),e.xp6(7),e.Q6J("ngIf","default"!==n.displayTier),e.xp6(1),e.Q6J("ngIf","default"===n.displayTier)}}let Re=(()=>{class t{constructor(n,o,s){this.optionService=n,this.store=o,this.conjugationService=s,this.selectedTemp=new e.vpe,this.unsubscribe$=new h.xQ,this.displayTier=I.jS.wordmaker.tempView,this.lang$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(g.gV))}ngOnInit(){this.selection$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(T)),this.possibleOptions$=this.optionService.options$.pipe((0,m.R)(this.unsubscribe$)),this.possibleOptionsByType$=this.optionService.optionsByType$.pipe((0,m.R)(this.unsubscribe$)),this.conjugatedOptions$=this.selection$.pipe((0,m.R)(this.unsubscribe$),(0,Z.U)(n=>({...n,option:null})),(0,j.w)(n=>this.conjugationService.conjugations$.pipe((0,Z.U)(o=>this.conjugationService.filterConjugations(o,n)))))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}returnOptionTierFromName(){return I.Iy.filter(o=>o.name===this.displayTier)[0]}onAffOptSelect(n){this.store.dispatch((0,w.yu)({option:n})),this.selectedTemp.emit(n)}onChipClick(n){this.returnAffoptFromTag$(n).subscribe(o=>{this.onAffOptSelect(o)})}returnAffoptFromTag$(n){return this.optionService.options$.pipe((0,Z.U)(o=>o.filter(a=>a.tag===n)[0]))}returnAffoptFromGloss$(n){return this.optionService.options$.pipe((0,Z.U)(o=>o.filter(a=>a.gloss===n)[0]))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.o0),e.Y36(c.yh),e.Y36(g.e0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker-temp-step"]],outputs:{selectedTemp:"selectedTemp"},decls:2,vars:3,consts:[["class","margin-top-20 panel centered full-width",4,"ngIf"],[1,"margin-top-20","panel","centered","full-width"],[1,"panel__header--small"],[1,"container"],[1,"row"],[1,"instructions","col-sm-12"],[1,"margin-bottom-50"],[1,"panel__content--large"],["loading",""],[1,"centered"],["class","option__container custom-scroll centered pwidth-50--desktop pwidth-100--mobile",4,"ngIf"],["class","option__container custom-scroll default-container pwidth-100",4,"ngIf"],[1,"option__container","custom-scroll","centered","pwidth-50--desktop","pwidth-100--mobile"],[4,"ngIf","ngIfElse"],["class","bg-white color-black border-accent",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","color-black","border-accent",3,"click"],[3,"tier","data"],[1,"option__container","custom-scroll","default-container","pwidth-100"],["class","default-type__container",4,"ngIf"],[1,"default-type__container"],["class","default-type",4,"ngFor","ngForOf"],[1,"default-type"]],template:function(n,o){1&n&&(e.YNc(0,He,19,5,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.lang$))},dependencies:[p.sg,p.O5,v.qn,v.HS,k.Ou,J.P,p.Ov,f.X$],styles:[".default-container[_ngcontent-%COMP%]{height:350px;overflow:auto}.default-type[_ngcontent-%COMP%]{margin:0 50px;width:250px}.default-type__container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}.option__container[_ngcontent-%COMP%]{max-height:50vh}"],changeDetection:0}),t})();const Xe=["stepper"];function Ke(t,i){if(1&t&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"async")),2&t){const n=e.oxw();e.Oqu(e.lcZ(1,1,e.lcZ(2,3,n.verbLabel)))}}function De(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ww-wordmaker-verb-step",13),e.NdJ("selectedVerb",function(s){e.CHM(n);const a=e.oxw();return e.KtG(a.onVerbSelect(s))}),e.qZA()}}function Ge(t,i){if(1&t&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"async")),2&t){const n=e.oxw();e.Oqu(e.lcZ(1,1,e.lcZ(2,3,n.persLabel)))}}function Be(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ww-wordmaker-pers-step",14),e.NdJ("selectedAgent",function(s){e.CHM(n);const a=e.oxw();return e.KtG(a.onAgentSelect(s))})("selectedPatient",function(s){e.CHM(n);const a=e.oxw();return e.KtG(a.onPatientSelect(s))}),e.qZA()}}function ze(t,i){if(1&t&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"async")),2&t){const n=e.oxw();e.Oqu(e.lcZ(1,1,e.lcZ(2,3,n.tempLabel)))}}function et(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ww-wordmaker-temp-step",15),e.NdJ("selectedTemp",function(s){e.CHM(n);const a=e.oxw();return e.KtG(a.onTempSelect(s))}),e.qZA()}}function tt(t,i){1&t&&(e._uU(0),e.ALo(1,"translate")),2&t&&e.Oqu(e.lcZ(1,1,"ww.pages.wordmaker.steps.conj.finished"))}function nt(t,i){1&t&&e._UZ(0,"ww-wordmaker-conj-step")}const ot=[{path:"stepper",component:(()=>{class t{constructor(n,o,s){this.store=n,this.validationService=o,this.translationService=s,this.isLinear=!0,this.verbLabel=new A.X((0,S.J)("ww.pages.wordmaker.steps.verb.question")),this.persLabel=new A.X((0,S.J)("ww.pages.wordmaker.steps.pers.question")),this.tempLabel=new A.X((0,S.J)("ww.pages.wordmaker.steps.temp.question")),this.unsubscribe$=new h.xQ}ngOnInit(){this.selection$=this.store.pipe((0,m.R)(this.unsubscribe$),(0,c.Ys)(T)),this.selection$.subscribe(n=>{if(this.verbLabel.next(n.root?"ww-data.verbs."+n.root.tag:"ww.pages.wordmaker.steps.verb.question"),n.agent||n.patient){let o="";n.agent&&n.patient?(0,$.$R)(this.translationService.get("ww-data.pronouns.agents."+n.agent.tag),this.translationService.get("ww-data.pronouns.patients."+n.patient.tag)).pipe((0,x.q)(1)).subscribe(([s,a])=>this.persLabel.next(s+" \u2192 "+a)):(o=n.agent?"ww-data.pronouns.agents."+n.agent.tag:n.patient?"ww-data.pronouns.patients."+n.patient.tag:"ww.pages.wordmaker.steps.pers.question",this.persLabel.next(o))}else this.persLabel.next("ww.pages.wordmaker.steps.pers.question");n.option?"type"in n.option?(0,$.$R)(this.translationService.get("ww-data.options.types."+n.option.type),this.translationService.get("ww-data.options.items."+n.option.tag)).pipe((0,x.q)(1)).subscribe(([o,s])=>this.tempLabel.next(o+" - "+s)):this.translationService.get("ww-data.options.items."+n.option.tag).pipe((0,x.q)(1)).subscribe(o=>this.tempLabel.next(o)):this.tempLabel.next("ww.pages.wordmaker.steps.temp.question")})}onStepChange(n){this.store.dispatch((0,w.gM)({step:n}))}ngAfterViewInit(){this.stepper.selectionChange.pipe((0,m.R)(this.unsubscribe$),function U(t,i){return(0,Q.x)((n,o)=>i?i(n[t],o[t]):n[t]===o[t])}("selectedIndex")).subscribe(n=>this.onStepChange(n.selectedIndex))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}randomX(n){return n[Math.floor(Math.random()*(n.length-1)+1)]}onVerbSelect(n){this.stepper.next(1)}onPatientSelect(n){this.selection$.pipe((0,x.q)(1)).subscribe(o=>{this.validationService.validate("validation","selection","patients",o)&&this.stepper.next()})}onAgentSelect(n){this.selection$.pipe((0,x.q)(1)).subscribe(o=>{this.validationService.validate("validation","selection","agents",o)&&this.stepper.next()})}onTempSelect(n){this.stepper.next()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(c.yh),e.Y36(g.RJ),e.Y36(f.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker"]],viewQuery:function(n,o){if(1&n&&e.Gf(Xe,5),2&n){let s;e.iGM(s=e.CRH())&&(o.stepper=s.first)}},decls:44,vars:30,consts:[[1,"container","page__content","vwidth-90","centered","margin-bottom-50"],[3,"linear"],["stepper",""],["matStepLabel",""],[1,"step-container"],[3,"selectedVerb",4,"ngIf","ngIfElse"],[1,"margin-top-30"],["mat-raised-button","","matStepperNext","",1,"mat-accent","float-right"],[3,"selectedAgent","selectedPatient",4,"ngIf","ngIfElse"],["mat-raised-button","","matStepperPrevious","",1,"mat-accent","float-left"],[3,"selectedTemp",4,"ngIf","ngIfElse"],[4,"ngIf","ngIfElse"],["mat-raised-button","",1,"mat-accent","float-right",3,"click"],[3,"selectedVerb"],[3,"selectedAgent","selectedPatient"],[3,"selectedTemp"]],template:function(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"div",0)(1,"mat-horizontal-stepper",1,2)(3,"mat-step")(4,"form"),e.YNc(5,Ke,3,5,"ng-template",3),e.TgZ(6,"div",4),e.YNc(7,De,1,0,"ww-wordmaker-verb-step",5),e.qZA(),e.TgZ(8,"div",6)(9,"button",7),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"mat-step")(13,"form"),e.YNc(14,Ge,3,5,"ng-template",3),e.YNc(15,Be,1,0,"ww-wordmaker-pers-step",8),e.TgZ(16,"div",6)(17,"button",9),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",7),e._uU(21),e.ALo(22,"translate"),e.qZA()()()(),e.TgZ(23,"mat-step")(24,"form"),e.YNc(25,ze,3,5,"ng-template",3),e.YNc(26,et,1,0,"ww-wordmaker-temp-step",10),e.TgZ(27,"div",6)(28,"button",9),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"button",7),e._uU(32),e.ALo(33,"translate"),e.qZA()()()(),e.TgZ(34,"mat-step"),e.YNc(35,tt,2,3,"ng-template",3),e.YNc(36,nt,1,0,"ww-wordmaker-conj-step",11),e.TgZ(37,"div",6)(38,"button",9),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"button",12),e.NdJ("click",function(){e.CHM(s);const d=e.MAs(2);return e.KtG(d.reset())}),e._uU(42),e.ALo(43,"translate"),e.qZA()()()()()}if(2&n){const s=e.MAs(2);e.xp6(1),e.Q6J("linear",o.isLinear),e.xp6(6),e.Q6J("ngIf",0===s.selectedIndex)("ngIfElse",o.loading),e.xp6(3),e.hij(" ",e.lcZ(11,16,"ww.pages.wordmaker.common.next")," "),e.xp6(5),e.Q6J("ngIf",1===s.selectedIndex)("ngIfElse",o.loading),e.xp6(3),e.hij(" ",e.lcZ(19,18,"ww.pages.wordmaker.common.previous")," "),e.xp6(3),e.hij(" ",e.lcZ(22,20,"ww.pages.wordmaker.common.next")," "),e.xp6(5),e.Q6J("ngIf",2===s.selectedIndex)("ngIfElse",o.loading),e.xp6(3),e.hij(" ",e.lcZ(30,22,"ww.pages.wordmaker.common.previous")," "),e.xp6(3),e.hij(" ",e.lcZ(33,24,"ww.pages.wordmaker.common.next")," "),e.xp6(4),e.Q6J("ngIf",3===s.selectedIndex)("ngIfElse",o.loading),e.xp6(3),e.hij(" ",e.lcZ(40,26,"ww.pages.wordmaker.common.previous")," "),e.xp6(3),e.hij(" ",e.lcZ(43,28,"ww.pages.wordmaker.common.restart")," ")}},dependencies:[p.O5,_._Y,_.JL,_.F,y.lW,b.C0,b.VY,b.Vq,b.Ic,b.fd,B,_e,Le,Re,p.Ov,f.X$],styles:[".step-container[_ngcontent-%COMP%]{max-height:40%;height:40%;min-height:40%}"],changeDetection:0}),t})(),data:{title:"ww.menu.wordmaker.stepper"}},{path:"",component:(()=>{class t{constructor(){this.routeAnimationsElements=g.rd}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["ww-wordmaker-home"]],decls:11,vars:10,consts:[[1,"container","page","page__content","vwidth-90","centered","center-text"],[1,"welcome"],[3,"ngClass"],[3,"innerHTML"],["mat-raised-button","","data-testid","start","color","accent","id","start","routerLink","stepper",1,"ui-button"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"div",3),e.ALo(7,"translate"),e.TgZ(8,"button",4),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngClass",o.routeAnimationsElements),e.xp6(2),e.Oqu(e.lcZ(5,4,"ww.pages.wordmaker.home.welcome")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(7,6,"ww.pages.wordmaker.home.instructions"),e.oJD),e.xp6(3),e.hij(" ",e.lcZ(10,8,"ww.pages.wordmaker.home.start")," "))},dependencies:[p.mk,y.lW,C.rH,f.X$],styles:[".welcome[_ngcontent-%COMP%]{height:644px;margin:10px}#id[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"],changeDetection:0}),t})(),data:{title:"ww.menu.wordmaker.home"}}];let it=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild(ot),C.Bz]}),t})(),st=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Y.m,it]}),t})()}}]);